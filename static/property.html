<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>UltimoRealEstate</title>
  <link rel = "icon" href = "favicon.ico"/>
  <meta name="author" content="Shoko Yanagibashi Shoko.Yanagibashi@studytafensw.edu.au">
  <link rel="stylesheet" href="sub-style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- text for main page and section  -->
  <link href="https://fonts.googleapis.com/css?family=Kaushan+Script" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Caveat" rel="stylesheet">
</head>

<body>
  <header>
    <div>
      <a href="index.html"><img  src="../images/estate-logo.svg" width="300" height="100" alt="Ultimo Real Estate, Sydney, Australia" style = "margin-top: 10px;"></a>
    </div>
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="property" id = "current">Property of the Week</a></li>
        <li><a href="agents">Agents</a></li>
        <li><a href="faq.html">FAQ</a></li>
        <li><a href="contact.html">Contact</a></li>
        <li><a href= "login">Login</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <div class = "agencys">
      <h1>Property of the Week</h1><br>
      <p>Any question? CALL US : <a href = "#">(01)-2345-6789</a></p>
    </div>

    <div class = "wrapper">
      <div class = "grid-container3">
        @@@property@@@
      </div>
    </div>
      <div id = "addPropertySpace" class = "wrapper">
      </div>
    @@@addForm@@@
  </main>
  

  <footer>
  <ul>
    <li>&copy; 2020 Ultimo Real Estate, Inc. Shoko. </li>
    <li><a href="www.facebook.com/UltimoRealEstate"><img src="images/facebook.png" width="30" height="30" alt="Ultimo Real Estate on Facebook"></a></li>
    <li><a href="www.instagram.com/UltimoRealEstate"><img src="images/instagram.png" width="30" height="30" alt="Ultimo Real Estate on Instagram"></a></li>
    <li><a href="www.twitter.com/UltimoRealEstate"><img src="images/twitter.png" width="30" height="30" alt="Ultimo Real Estate on Twitter"></a></li>
    <li><a href="legals.html">Legals</a></li>
    </ul>
  </footer>

<script>

  const form = document.querySelector('#moreProperty');
  const cards = document.querySelector('#addPropertySpace');
  let number = 7;
  
  form.addEventListener('submit', (event) => {
    event.preventDefault();

    let data = {
      address: form.address.value,
      inspection: form.inspection.value,
      image_path: form.image_path.value,
      agentName: form.agentName.value,
      bed: parseInt(form.bed.value),
      shower: parseInt(form.shower.value),
      car: parseInt(form.car.value)
    }
    fetch('http://localhost:3000/moreproperty?id=' + number,{
      method: 'POST',
      headers: {
        'Content-Type':'application/json',
      },
      body: JSON.stringify(data),
    })
      .then(response => response.text())
      .then(text => {
        cards.insertAdjacentHTML('beforeend', text);
        form.reset();
        number++;
      })
      .catch((error) => {
        console.log('Error: '+ error);
      })
  })



</script>
</body>
</html> 


